<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="pl" xml:lang="pl"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Metody walidacji modeli statystycznych - 12&nbsp; Przeszukiwanie iteracyjne</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./example.html" rel="next">
<link href="./parallel.html" rel="prev">
<link href="./cover.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Brak wyników",
    "search-matching-documents-text": "dopasowane dokumenty",
    "search-copy-link-title": "Kopiuj link do wyszukiwania",
    "search-hide-matches-text": "Ukryj dodatkowe dopasowania",
    "search-more-match-text": "więcej dopasowań w tym dokumencie",
    "search-more-matches-text": "więcej dopasowań w tym dokumencie",
    "search-clear-button-title": "Wyczyść",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Anuluj",
    "search-submit-button-title": "Zatwierdź",
    "search-label": "Szukaj"
  }
}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>
</head>
<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Przełącz pasek boczny" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./iterative.html"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Przeszukiwanie iteracyjne</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Przełącz pasek boczny" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./images/logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none"></a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Metody walidacji modeli statystycznych</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://twitter.com" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://github.com/dax44/ModelsValidation/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="https://twitter.com/intent/tweet?url=%7Curl%7C" title="Twitter" class="quarto-navigation-tool px-1" aria-label="Twitter"><i class="bi bi-twitter"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Przełącz tryb ciemny"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Przełącz tryb czytnika">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Szukaj"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wprowadzenie</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Ekosystem</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modeling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Modelowanie statystyczne</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./infer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Modele inferencyjne</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./measures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Przegląd miar dopasowania modelu</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./resampling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Zarządzanie danymi</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tidymodels.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Praca z <code>tidymodels</code></span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./resampling2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Metody próbkowania</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./comparison.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Porównanie modeli</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tuning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Optymalizacja modeli</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./grid_search.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Dostrajanie z przeszukiwaniem siatki</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./parallel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Paralelizacja resamplingu</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./iterative.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Przeszukiwanie iteracyjne</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./example.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Poszukiwanie optymalnego modelu</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dimensionality.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Redukcja wymiarowości</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./imbalance.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Nierównowaga klas w zadaniu klasyfikacyjnym</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Spis treści</h2>
   
  <ul>
<li>
<a href="#optymalizacja-bayesowska" id="toc-optymalizacja-bayesowska" class="nav-link active" data-scroll-target="#optymalizacja-bayesowska"><span class="header-section-number">12.1</span> Optymalizacja bayesowska</a>
  <ul class="collapse">
<li><a href="#model-procesu-gaussowskiego" id="toc-model-procesu-gaussowskiego" class="nav-link" data-scroll-target="#model-procesu-gaussowskiego"><span class="header-section-number">12.1.1</span> Model procesu gaussowskiego</a></li>
  <li><a href="#funkcja-akwizycji" id="toc-funkcja-akwizycji" class="nav-link" data-scroll-target="#funkcja-akwizycji"><span class="header-section-number">12.1.2</span> Funkcja akwizycji</a></li>
  </ul>
</li>
  <li><a href="#symulowane-wy%C5%BCarzanie" id="toc-symulowane-wyżarzanie" class="nav-link" data-scroll-target="#symulowane-wy%C5%BCarzanie"><span class="header-section-number">12.2</span> Symulowane wyżarzanie</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/dax44/ModelsValidation/issues/new" class="toc-action"><i class="bi bi-github"></i>Zgłoś problem</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">
<span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Przeszukiwanie iteracyjne</span>
</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p>W poprzednich rozdziałach pokazano, jak wyszukiwanie oparte o siatkę przyjmuje wstępnie zdefiniowany zestaw wartości kandydujących, ocenia je, a następnie wybiera najlepsze ustawienia. Iteracyjne metody wyszukiwania realizują inną strategię. Podczas procesu wyszukiwania przewidują one, które wartości należy przetestować w następnej kolejności.</p>
<p>W tym rozdziale przedstawiono dwie metody wyszukiwania. Najpierw omówimy optymalizację bayesowską, która wykorzystuje model statystyczny do przewidywania lepszych ustawień parametrów. Następnie rozdział opisuje metodę globalnego wyszukiwania zwaną symulowanym wyżarzaniem (ang. <em>simulated annealing</em>).</p>
<p>Do ilustracji wykorzystujemy te same dane dotyczące charakterystyki komórek, co w poprzednim rozdziale, ale zmieniamy model. W tym rozdziale użyjemy modelu maszyny wektorów nośnych (ang. <em>Support Vector Machine</em>), ponieważ zapewnia on ładne dwuwymiarowe wizualizacje procesów wyszukiwania. Dwa dostrajane parametry w optymalizacji to wartość kosztu SVM i parametr jądra funkcji radialnej <span class="math inline">\(\sigma\)</span>. Oba parametry mogą mieć znaczący wpływ na złożoność i wydajność modelu.</p>
<p>Model SVM wykorzystuje iloczyn skalarny i z tego powodu konieczne jest wyśrodkowanie i przeskalowanie predyktorów. Obiekty <code>tidymodels</code>: <code>svm_rec</code>, <code>svm_spec</code> i <code>svm_wflow</code> definiują proces tworzenia modelu:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Kod</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidymodels.tidymodels.org">tidymodels</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidymodels/finetune">finetune</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://tidymodels.tidymodels.org/reference/tidymodels_prefer.html">tidymodels_prefer</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">cells</span><span class="op">)</span></span>
<span><span class="va">cells</span> <span class="op">&lt;-</span> <span class="va">cells</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">case</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1304</span><span class="op">)</span></span>
<span><span class="va">cell_folds</span> <span class="op">&lt;-</span> <span class="fu">vfold_cv</span><span class="op">(</span><span class="va">cells</span><span class="op">)</span></span>
<span></span>
<span><span class="va">svm_rec</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">recipe</span><span class="op">(</span><span class="va">class</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">cells</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">step_YeoJohnson</span><span class="op">(</span><span class="fu">all_numeric_predictors</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">step_normalize</span><span class="op">(</span><span class="fu">all_numeric_predictors</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">svm_spec</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">svm_rbf</span><span class="op">(</span>cost <span class="op">=</span> <span class="fu"><a href="https://hardhat.tidymodels.org/reference/tune.html">tune</a></span><span class="op">(</span><span class="op">)</span>, rbf_sigma <span class="op">=</span> <span class="fu"><a href="https://hardhat.tidymodels.org/reference/tune.html">tune</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">set_engine</span><span class="op">(</span><span class="st">"kernlab"</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">set_mode</span><span class="op">(</span><span class="st">"classification"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">svm_wflow</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">workflow</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">add_model</span><span class="op">(</span><span class="va">svm_spec</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">add_recipe</span><span class="op">(</span><span class="va">svm_rec</span><span class="op">)</span></span></code><button title="Kopiuj do schowka" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Oto domyślne zakresy tuningowanych parametrów:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Kod</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">cost</span><span class="op">(</span><span class="op">)</span></span></code><button title="Kopiuj do schowka" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Cost (quantitative)
Transformer: log-2 [1e-100, Inf]
Range (transformed scale): [-10, 5]</code></pre>
</div>
<details open="" class="code-fold"><summary>Kod</summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">rbf_sigma</span><span class="op">(</span><span class="op">)</span></span></code><button title="Kopiuj do schowka" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Radial Basis Function sigma (quantitative)
Transformer: log-10 [1e-100, Inf]
Range (transformed scale): [-10, 0]</code></pre>
</div>
</div>
<p>Dla ilustracji, zmieńmy nieco zakres parametrów jądra, aby poprawić wizualizacje wyszukiwania:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Kod</summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">svm_param</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">svm_wflow</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="https://hardhat.tidymodels.org/reference/hardhat-extract.html">extract_parameter_set_dials</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/update.html">update</a></span><span class="op">(</span>rbf_sigma <span class="op">=</span> <span class="fu">rbf_sigma</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">7</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code><button title="Kopiuj do schowka" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Zanim omówimy szczegóły dotyczące wyszukiwania iteracyjnego i jego działania, zbadajmy związek między dwoma parametrami dostrajania SVM a obszarem pod krzywą ROC dla tego konkretnego zestawu danych. Skonstruowaliśmy bardzo dużą regularną siatkę, składającą się z 2500 wartości kandydujących, i oceniliśmy siatkę przy użyciu resamplingu. Jest to oczywiście niepraktyczne w regularnej analizie danych i ogromnie nieefektywne. Jednakże, wyjaśnia ścieżkę, którą powinien podążać proces wyszukiwania i gdzie występuje numerycznie optymalna wartość (wartości).</p>
<div id="fig-iter1" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-iter1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/Zrzut ekranu 2023-03-9 o 11.49.58.png" class="lightbox" data-glightbox="description: .lightbox-desc-1" data-gallery="quarto-lightbox-gallery-1"><img src="images/Zrzut ekranu 2023-03-9 o 11.49.58.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-iter1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Rys.&nbsp;12.1: Mapa ciepła średniego obszaru pod krzywą ROC dla siatki o dużej gęstości wartości dostrajania parametrów. Najlepszy punkt jest oznaczony kropką w prawym górnym rogu.
</figcaption></figure>
</div>
<p><a href="#fig-iter1" class="quarto-xref">Rys.&nbsp;<span>12.1</span></a> pokazuje wyniki oceny tej siatki, przy czym jaśniejszy kolor odpowiada wyższej (lepszej) wydajności modelu. W dolnej przekątnej przestrzeni parametrów znajduje się duży obszar, który jest stosunkowo płaski i charakteryzuje się słabą wydajnością. Grzbiet najlepszej wydajności występuje w prawej górnej części przestrzeni. Czarna kropka wskazuje najlepsze ustawienia. Przejście od płaskiego obszaru słabych wyników do grzbietu najlepszej wydajności jest bardzo ostre. Występuje również gwałtowny spadek obszaru pod krzywą ROC tuż po prawej stronie grzbietu.</p>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full"><p class="page-columns page-full"><a href="https://gifdb.com/images/file/confused-tigger-comic-6vr45zk3ghvf3rg4.gif" class="lightbox page-columns page-full" data-gallery="quarto-lightbox-gallery-2"></a></p><div class="no-row-height column-margin column-container"><a href="https://gifdb.com/images/file/confused-tigger-comic-6vr45zk3ghvf3rg4.gif" class="lightbox page-columns page-full" data-gallery="quarto-lightbox-gallery-2"><img src="https://gifdb.com/images/file/confused-tigger-comic-6vr45zk3ghvf3rg4.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" width="400"></a></div><p></p>
</figure>
</div>
<p>Procedury wyszukiwania, które będziemy przestawiać, wymagają przynajmniej kilku statystyk obliczonych na podstawie resamplingu. W tym celu poniższy kod tworzy małą regularną siatkę, która znajduje się w płaskiej części przestrzeni parametrów. Funkcja <code><a href="https://tune.tidymodels.org/reference/tune_grid.html">tune_grid()</a></code> dokonuje próbkowania tej siatki:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Kod</summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">roc_res</span> <span class="op">&lt;-</span> <span class="fu">metric_set</span><span class="op">(</span><span class="va">roc_auc</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1401</span><span class="op">)</span></span>
<span><span class="va">start_grid</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">svm_param</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/update.html">update</a></span><span class="op">(</span></span>
<span>    cost <span class="op">=</span> <span class="fu">cost</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">6</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    rbf_sigma <span class="op">=</span> <span class="fu">rbf_sigma</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">6</span>, <span class="op">-</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">grid_regular</span><span class="op">(</span>levels <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code><button title="Kopiuj do schowka" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="" class="code-fold"><summary>Kod</summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1402</span><span class="op">)</span></span>
<span><span class="va">svm_initial</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">svm_wflow</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu"><a href="https://tune.tidymodels.org/reference/tune_grid.html">tune_grid</a></span><span class="op">(</span>resamples <span class="op">=</span> <span class="va">cell_folds</span>, grid <span class="op">=</span> <span class="va">start_grid</span>, metrics <span class="op">=</span> <span class="va">roc_res</span><span class="op">)</span></span></code><button title="Kopiuj do schowka" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="" class="code-fold"><summary>Kod</summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://tune.tidymodels.org/reference/collect_predictions.html">collect_metrics</a></span><span class="op">(</span><span class="va">svm_initial</span><span class="op">)</span></span></code><button title="Kopiuj do schowka" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 8
    cost rbf_sigma .metric .estimator  mean     n std_err .config             
   &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;               
1 0.0156  0.000001 roc_auc binary     0.864    10 0.00864 Preprocessor1_Model1
2 2       0.000001 roc_auc binary     0.863    10 0.00867 Preprocessor1_Model2
3 0.0156  0.0001   roc_auc binary     0.863    10 0.00862 Preprocessor1_Model3
4 2       0.0001   roc_auc binary     0.866    10 0.00855 Preprocessor1_Model4</code></pre>
</div>
</div>
<p>Ta początkowa siatka pokazuje dość równoważne wyniki, przy czym żaden pojedynczy punkt nie jest znacznie lepszy od pozostałych. Wyniki te mogą być wykorzystane przez funkcje iteracyjnego dostrajania jako wartości początkowe.</p>
<section id="optymalizacja-bayesowska" class="level2 page-columns page-full" data-number="12.1"><h2 data-number="12.1" class="anchored" data-anchor-id="optymalizacja-bayesowska">
<span class="header-section-number">12.1</span> Optymalizacja bayesowska</h2>
<p>Techniki optymalizacji bayesowskiej analizują bieżące wyniki próbkowania i tworzą model predykcyjny, aby zasugerować wartości parametrów dostrajania, które nie zostały jeszcze ocenione. Sugerowana kombinacja parametrów jest następnie ponownie próbkowana. Wyniki te są następnie wykorzystywane w innym modelu predykcyjnym, który rekomenduje więcej wartości kandydatów do testowania, i tak dalej. Proces ten przebiega przez ustaloną liczbę iteracji lub do momentu, gdy nie pojawią się dalsze poprawy. <span class="citation" data-cites="shahriari2016">Shahriari i in. (<a href="references.html#ref-shahriari2016" role="doc-biblioref">2016</a>)</span> i <span class="citation" data-cites="Frazier2018">Frazier (<a href="references.html#ref-Frazier2018" role="doc-biblioref">2018</a>)</span> są dobrymi wprowadzeniami do optymalizacji bayesowskiej.</p>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full"><p class="page-columns page-full"><a href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSh13rfq4kyHfc7s98sZwnlgwiC5nx4uf9ZPw&amp;usqp=CAU.png" class="lightbox page-columns page-full" data-gallery="quarto-lightbox-gallery-3"></a></p><div class="no-row-height column-margin column-container"><a href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSh13rfq4kyHfc7s98sZwnlgwiC5nx4uf9ZPw&amp;usqp=CAU.png" class="lightbox page-columns page-full" data-gallery="quarto-lightbox-gallery-3"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSh13rfq4kyHfc7s98sZwnlgwiC5nx4uf9ZPw&amp;usqp=CAU.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="400"></a></div><p></p>
</figure>
</div>
<p>Podczas korzystania z optymalizacji bayesowskiej, podstawowe problemy to sposób tworzenia modelu i wybór parametrów rekomendowanych przez ten model. Najpierw rozważmy technikę najczęściej stosowaną w optymalizacji bayesowskiej, czyli model procesu gaussowskiego.</p>
<section id="model-procesu-gaussowskiego" class="level3" data-number="12.1.1"><h3 data-number="12.1.1" class="anchored" data-anchor-id="model-procesu-gaussowskiego">
<span class="header-section-number">12.1.1</span> Model procesu gaussowskiego</h3>
<p>Modele procesu gaussowskiego (GP) <span class="citation" data-cites="schulz2016">(<a href="references.html#ref-schulz2016" role="doc-biblioref">Schulz, Speekenbrink, i Krause 2016</a>)</span>, to techniki statystyczne, które mają swoją historię w statystyce przestrzennej (pod nazwą metod <em>krigingu</em>). Mogą być wyprowadzone na wiele sposobów, w tym jako model Bayesowski.</p>
<p>Matematycznie, GP jest zbiorem zmiennych losowych, których wspólny rozkład prawdopodobieństwa jest wielowymiarowy normalny. W kontekście naszych zastosowań jest to zbiór metryk wydajności dla wartości kandydujących parametrów dostrajania. Dla początkowej siatki czterech próbek, realizacje tych czterech zmiennych losowych wynosiły 0.8639, 0.8625, 0.8627 i 0.8659. Zakłada się, że mają rozkład wielowymiarowy normalny. Wejściami definiującymi zmienne niezależne dla modelu GP są odpowiednie wartości dostrajania parametrów (przedstawione w <a href="#tbl-1" class="quarto-xref">Tab.&nbsp;<span>12.1</span></a>).</p>
<div class="cell">
<div id="tbl-1" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tab.&nbsp;12.1: Wartości startowe w procedurze poszukiwania optymalnych parametrów
</figcaption><div aria-describedby="tbl-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<div id="fyxwfajvzc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#fyxwfajvzc table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#fyxwfajvzc thead, #fyxwfajvzc tbody, #fyxwfajvzc tfoot, #fyxwfajvzc tr, #fyxwfajvzc td, #fyxwfajvzc th {
  border-style: none;
}

#fyxwfajvzc p {
  margin: 0;
  padding: 0;
}

#fyxwfajvzc .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fyxwfajvzc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#fyxwfajvzc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#fyxwfajvzc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#fyxwfajvzc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fyxwfajvzc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fyxwfajvzc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fyxwfajvzc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fyxwfajvzc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fyxwfajvzc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fyxwfajvzc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fyxwfajvzc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fyxwfajvzc .gt_spanner_row {
  border-bottom-style: hidden;
}

#fyxwfajvzc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#fyxwfajvzc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fyxwfajvzc .gt_from_md > :first-child {
  margin-top: 0;
}

#fyxwfajvzc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fyxwfajvzc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fyxwfajvzc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#fyxwfajvzc .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#fyxwfajvzc .gt_row_group_first td {
  border-top-width: 2px;
}

#fyxwfajvzc .gt_row_group_first th {
  border-top-width: 2px;
}

#fyxwfajvzc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fyxwfajvzc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#fyxwfajvzc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#fyxwfajvzc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fyxwfajvzc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fyxwfajvzc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fyxwfajvzc .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#fyxwfajvzc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#fyxwfajvzc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fyxwfajvzc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fyxwfajvzc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fyxwfajvzc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fyxwfajvzc .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fyxwfajvzc .gt_left {
  text-align: left;
}

#fyxwfajvzc .gt_center {
  text-align: center;
}

#fyxwfajvzc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fyxwfajvzc .gt_font_normal {
  font-weight: normal;
}

#fyxwfajvzc .gt_font_bold {
  font-weight: bold;
}

#fyxwfajvzc .gt_font_italic {
  font-style: italic;
}

#fyxwfajvzc .gt_super {
  font-size: 65%;
}

#fyxwfajvzc .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#fyxwfajvzc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#fyxwfajvzc .gt_indent_1 {
  text-indent: 5px;
}

#fyxwfajvzc .gt_indent_2 {
  text-indent: 10px;
}

#fyxwfajvzc .gt_indent_3 {
  text-indent: 15px;
}

#fyxwfajvzc .gt_indent_4 {
  text-indent: 20px;
}

#fyxwfajvzc .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="header gt_col_headings">
<th id="ROC" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">ROC</th>
<th id="cost" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">cost</th>
<th id="rbf_sigma" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">rbf_sigma</th>
</tr></thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="ROC">0.8639</td>
<td class="gt_row gt_right" headers="cost">0.01562</td>
<td class="gt_row gt_right" headers="rbf_sigma">1e-06</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="ROC">0.8625</td>
<td class="gt_row gt_right" headers="cost">2.00000</td>
<td class="gt_row gt_right" headers="rbf_sigma">1e-06</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="ROC">0.8627</td>
<td class="gt_row gt_right" headers="cost">0.01562</td>
<td class="gt_row gt_right" headers="rbf_sigma">1e-04</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="ROC">0.8659</td>
<td class="gt_row gt_right" headers="cost">2.00000</td>
<td class="gt_row gt_right" headers="rbf_sigma">1e-04</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</figure>
</div>
</div>
<p>Modele procesów gaussowskich są określone przez ich funkcje średniej i kowariancji, choć to ta ostatnia ma większy wpływ na charakter modelu GP. Funkcja kowariancji jest często parametryzowana w kategoriach wartości wejściowych (oznaczanych jako <span class="math inline">\(x\)</span>). Przykładowo, powszechnie stosowaną funkcją kowariancji jest funkcja wykładnicza kwadratowa:</p>
<p><span id="eq-iter1"><span class="math display">\[
\operatorname{cov}(\boldsymbol{x}_i, \boldsymbol{x}_j) = \exp\left(-\frac{1}{2}|\boldsymbol{x}_i - \boldsymbol{x}_j|^2\right) + \sigma^2_{ij}
\tag{12.1}\]</span></span></p>
<p>gdzie <span class="math inline">\(\sigma_{i,j}^2\)</span> jest wariancją błędu modelu równą zero jeśli <span class="math inline">\(i=j\)</span>. Możemy to interpretować jako, że wraz ze wzrostem odległości pomiędzy dwoma kombinacjami parametrów, kowariancja pomiędzy metrykami wydajności rośnie wykładniczo. Z równania wynika również, że zmienność metryki wynikowej jest minimalizowana w punktach, które już zostały zaobserwowane (tzn. gdy <span class="math inline">\(|x_i - x_j|^2\)</span> wynosi zero). Charakter tej funkcji kowariancji pozwala procesowi gaussowskiemu reprezentować wysoce nieliniowe zależności między wydajnością modelu a dostrajaniem parametrów, nawet jeśli istnieje tylko niewielka ilość danych.</p>
<p>Ważną zaletą tego modelu jest to, że ponieważ określony jest pełny model prawdopodobieństwa, przewidywania dla nowych wejść mogą odzwierciedlać cały rozkład wyniku. Innymi słowy, nowe statystyki wydajności mogą być przewidywane zarówno pod względem średniej jak i wariancji.</p>
<p>Na podstawie początkowej siatki czterech wyników, model GP jest dopasowywany, następnie są obliczane z modelu predykcje dla kandydatów, a piąta kombinacja parametrów dostrajania jest wybierana. Obliczamy szacunkową wydajność dla nowej konfiguracji, GP jest ponownie dopasowywany do pięciu istniejących wyników (i tak dalej).</p>
</section><section id="funkcja-akwizycji" class="level3 page-columns page-full" data-number="12.1.2"><h3 data-number="12.1.2" class="anchored" data-anchor-id="funkcja-akwizycji">
<span class="header-section-number">12.1.2</span> Funkcja akwizycji</h3>
<p>Jak wykorzystać model procesu gaussowskiego po dopasowaniu do aktualnych danych? Naszym celem jest wybranie następnej kombinacji dostrajania parametrów, która najprawdopodobniej da “lepsze wyniki” niż obecna najlepsza. Jednym z podejść do tego jest stworzenie dużego zbioru kandydatów, a następnie wykonanie prognoz średniej i wariancji dla każdego z nich. Korzystając z tych informacji, wybieramy najkorzystniejszą wartość parametru dostrajania.</p>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full"><p class="page-columns page-full"><a href="https://media.tenor.com/MjdDlyCEARcAAAAM/math-dance.gif" class="lightbox page-columns page-full" data-gallery="quarto-lightbox-gallery-4"></a></p><div class="no-row-height column-margin column-container"><a href="https://media.tenor.com/MjdDlyCEARcAAAAM/math-dance.gif" class="lightbox page-columns page-full" data-gallery="quarto-lightbox-gallery-4"><img src="https://media.tenor.com/MjdDlyCEARcAAAAM/math-dance.gif" class="img-fluid quarto-figure quarto-figure-center figure-img"></a></div><p></p>
</figure>
</div>
<p>Klasa funkcji celu, zwanych funkcjami akwizycji, ułatwia kompromis pomiędzy średnią a wariancją. Przypomnijmy, że przewidywana wariancja modeli GP zależy głównie od tego, jak bardzo są one oddalone od istniejących danych. Kompromis pomiędzy przewidywaną średnią i wariancją dla nowych kandydatów jest często postrzegany przez pryzmat eksploracji i eksploatacji:</p>
<ul>
<li>Eksploracja (ang. <em>exploration</em>) - powoduje wybór tych regionów, w których jest mniej obserwowanych modeli kandydujących. W ten sposób nadaje się większą wagę kandydatom o wyższej wariancji i koncentruje się na poszukiwaniu nowych wyników.</li>
<li>Eksploatacja (ang. <em>exploitation</em>) - zasadniczo opiera się istniejących wynikach, w celu odnalezienia najlepszej wartości średniej.</li>
</ul>
<p>Aby zademonstrować, spójrzmy na przykład z jednym parametrem, który ma wartości pomiędzy [0, 1], a metryką wydajności jest <span class="math inline">\(R^2\)</span>. Prawdziwa funkcja jest pokazana na <a href="#fig-iter2" class="quarto-xref">Rys.&nbsp;<span>12.2</span></a> wraz z pięcioma wartościami kandydującymi, które mają istniejące wyniki jako punkty.</p>
<div id="fig-iter2" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-iter2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/Zrzut ekranu 2023-03-9 o 22.39.44.png" class="lightbox" data-glightbox="description: .lightbox-desc-5" data-gallery="quarto-lightbox-gallery-5"><img src="images/Zrzut ekranu 2023-03-9 o 22.39.44.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-iter2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Rys.&nbsp;12.2: Hipotetyczny rzeczywisty profil wydajności dla arbitralnie wybranego parametru dostrajania, z pięcioma szacowanymi punktami
</figcaption></figure>
</div>
<p>Dla tych danych dopasowanie modelu GP przedstawiono na <a href="#fig-iter3" class="quarto-xref">Rys.&nbsp;<span>12.3</span></a>. Zacieniowany obszar wskazuje średnią <span class="math inline">\(\pm\)</span> 1 błąd standardowy. Dwie pionowe linie wskazują dwa punkty kandydujące, które są później bardziej szczegółowo badane. Zacieniowany obszar ufności pokazuje funkcję wykładniczej wariancji kwadratowej; staje się ona bardzo duża między punktami i zbiega do zera w istniejących punktach danych.</p>
<div id="fig-iter3" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-iter3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/Zrzut ekranu 2023-03-9 o 22.44.09.png" class="lightbox" data-glightbox="description: .lightbox-desc-6" data-gallery="quarto-lightbox-gallery-6"><img src="images/Zrzut ekranu 2023-03-9 o 22.44.09.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-iter3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Rys.&nbsp;12.3: Przykładowy przebieg procesu gaussowskiego z zaznaczoną funkcją średniej i wariancji
</figcaption></figure>
</div>
<p>Ta nieliniowa funkcja przechodzi przez każdy obserwowany punkt, ale model nie jest doskonały. Nie ma obserwowanych punktów w pobliżu prawdziwego optimum ustawienia, a w tym regionie dopasowanie mogłoby być znacznie lepsze. Pomimo tego, model GP może skutecznie wskazać nam właściwy kierunek.</p>
<p>Z punktu widzenia czystej eksploatacji, najlepszym wyborem byłoby wybranie wartości parametru, który ma najlepszą średnią predykcję. W tym przypadku byłaby to wartość 0,106, tuż na prawo od istniejącego najlepszego zaobserwowanego punktu na poziomie 0,09.</p>
<p>Jako sposób na zachęcenie do eksploracji, prostym (ale nie często stosowanym) podejściem jest znalezienie parametru dostrajania związanego z największym przedziałem ufności.</p>
<p>Jedną z najczęściej stosowanych funkcji akwizycji jest oczekiwana poprawa. Pojęcie poprawy wymaga wartości dla bieżących najlepszych wyników (w przeciwieństwie do podejścia opartego na przedziałach ufności). Ponieważ GP może opisać nowy punkt kandydacki za pomocą rozkładu, możemy ważyć fragmenty rozkładu, które wykazują poprawę, używając prawdopodobieństwa wystąpienia poprawy.</p>
<p>Na przykład, rozważmy dwie wartości parametrów kandydujących 0,10 i 0,25 (wskazane przez pionowe linie na <a href="#fig-iter3" class="quarto-xref">Rys.&nbsp;<span>12.3</span></a>). Używając dopasowanego modelu GP, ich przewidywane <span class="math inline">\(R^2\)</span> są pokazane na <a href="#fig-iter3" class="quarto-xref">Rys.&nbsp;<span>12.3</span></a> wraz z linią odniesienia dla aktualnych najlepszych wyników.</p>
<div id="fig-iter4" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-iter4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/Zrzut ekranu 2023-03-9 o 22.57.54.png" class="lightbox" data-glightbox="description: .lightbox-desc-7" data-gallery="quarto-lightbox-gallery-7"><img src="images/Zrzut ekranu 2023-03-9 o 22.57.54.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-iter4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Rys.&nbsp;12.4: Przewidywane rozkłady wydajności dla dwóch próbkowanych wartości parametrów dostrajania
</figcaption></figure>
</div>
<p>Rozpatrując tylko średnią <span class="math inline">\(R^2\)</span> lepszym wyborem jest wartość parametru 0,10 (patrz <a href="#tbl-1" class="quarto-xref">Tab.&nbsp;<span>12.1</span></a>). Rekomendacja parametru dostrajania dla 0,25 ma gorsze przewidywanie średnie niż aktualny najlepszy kandydat. Jednakże, ponieważ ma wyższą wariancję, ma większy ogólny obszar prawdopodobieństwa powyżej aktualnego najlepszego. W rezultacie ma większą oczekiwaną poprawę:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Kod</summary><div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">tab2</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">Parameter.Value</span>,  <span class="op">~</span><span class="va">Mean</span>,  <span class="op">~</span><span class="va">Std.Dev</span>, <span class="op">~</span><span class="va">Expected.Improvment</span>,</span>
<span>               <span class="fl">0.1</span>, <span class="fl">0.8679</span>, <span class="fl">0.0004317</span>,              <span class="fl">0.00019</span>,</span>
<span>              <span class="fl">0.25</span>, <span class="fl">0.8671</span>, <span class="fl">0.0039301</span>,             <span class="fl">0.001216</span></span>
<span>  <span class="op">)</span></span>
<span><span class="fu">gt</span><span class="op">(</span><span class="va">tab2</span><span class="op">)</span></span></code><button title="Kopiuj do schowka" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="tbl-2" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tab.&nbsp;12.2: Oczekiwana poprawa dla dwóch kandydujących parametrów dostrajania.
</figcaption><div aria-describedby="tbl-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<div id="lmthswvhxc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#lmthswvhxc table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#lmthswvhxc thead, #lmthswvhxc tbody, #lmthswvhxc tfoot, #lmthswvhxc tr, #lmthswvhxc td, #lmthswvhxc th {
  border-style: none;
}

#lmthswvhxc p {
  margin: 0;
  padding: 0;
}

#lmthswvhxc .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#lmthswvhxc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#lmthswvhxc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#lmthswvhxc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#lmthswvhxc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lmthswvhxc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lmthswvhxc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lmthswvhxc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#lmthswvhxc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#lmthswvhxc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#lmthswvhxc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#lmthswvhxc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#lmthswvhxc .gt_spanner_row {
  border-bottom-style: hidden;
}

#lmthswvhxc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#lmthswvhxc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#lmthswvhxc .gt_from_md > :first-child {
  margin-top: 0;
}

#lmthswvhxc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#lmthswvhxc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#lmthswvhxc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#lmthswvhxc .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#lmthswvhxc .gt_row_group_first td {
  border-top-width: 2px;
}

#lmthswvhxc .gt_row_group_first th {
  border-top-width: 2px;
}

#lmthswvhxc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lmthswvhxc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#lmthswvhxc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#lmthswvhxc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lmthswvhxc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lmthswvhxc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#lmthswvhxc .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#lmthswvhxc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#lmthswvhxc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lmthswvhxc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lmthswvhxc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lmthswvhxc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lmthswvhxc .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lmthswvhxc .gt_left {
  text-align: left;
}

#lmthswvhxc .gt_center {
  text-align: center;
}

#lmthswvhxc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#lmthswvhxc .gt_font_normal {
  font-weight: normal;
}

#lmthswvhxc .gt_font_bold {
  font-weight: bold;
}

#lmthswvhxc .gt_font_italic {
  font-style: italic;
}

#lmthswvhxc .gt_super {
  font-size: 65%;
}

#lmthswvhxc .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#lmthswvhxc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#lmthswvhxc .gt_indent_1 {
  text-indent: 5px;
}

#lmthswvhxc .gt_indent_2 {
  text-indent: 10px;
}

#lmthswvhxc .gt_indent_3 {
  text-indent: 15px;
}

#lmthswvhxc .gt_indent_4 {
  text-indent: 20px;
}

#lmthswvhxc .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="header gt_col_headings">
<th id="Parameter.Value" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Parameter.Value</th>
<th id="Mean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Mean</th>
<th id="Std.Dev" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Std.Dev</th>
<th id="Expected.Improvment" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Expected.Improvment</th>
</tr></thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="Parameter.Value">0.10</td>
<td class="gt_row gt_right" headers="Mean">0.8679</td>
<td class="gt_row gt_right" headers="Std.Dev">0.0004317</td>
<td class="gt_row gt_right" headers="Expected.Improvment">0.000190</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="Parameter.Value">0.25</td>
<td class="gt_row gt_right" headers="Mean">0.8671</td>
<td class="gt_row gt_right" headers="Std.Dev">0.0039301</td>
<td class="gt_row gt_right" headers="Expected.Improvment">0.001216</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</figure>
</div>
</div>
<p>Kiedy oczekiwana poprawa jest obliczana w całym zakresie dostrajania parametrów, zalecany punkt do próbkowania jest znacznie bliższy 0,25 niż 0,10, jak pokazano na <a href="#fig-iter5" class="quarto-xref">Rys.&nbsp;<span>12.5</span></a>.</p>
<div id="fig-iter5" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-iter5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/Zrzut ekranu 2023-03-9 o 23.05.39.png" class="lightbox" data-glightbox="description: .lightbox-desc-8" data-gallery="quarto-lightbox-gallery-8"><img src="images/Zrzut ekranu 2023-03-9 o 23.05.39.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-iter5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Rys.&nbsp;12.5: Szacowany profil wydajności wygenerowany przez model procesu gaussowskiego (górny panel) oraz oczekiwana poprawa (dolny panel). Pionowa linia wskazuje punkt maksymalnej poprawy.
</figcaption></figure>
</div>
<p>Aby zaimplementować wyszukiwanie iteracyjne poprzez optymalizację bayesowską, należy użyć funkcji <code><a href="https://tune.tidymodels.org/reference/tune_bayes.html">tune_bayes()</a></code>. Jej składnia jest bardzo podobna do <code><a href="https://tune.tidymodels.org/reference/tune_grid.html">tune_grid()</a></code>, z kilkoma dodatkowymi argumentami:</p>
<ul>
<li>
<code>iter</code> to maksymalna liczba iteracji wyszukiwania.</li>
<li>
<code>initial</code> może być liczbą całkowitą, obiektem utworzonym przy pomocy <code><a href="https://tune.tidymodels.org/reference/tune_grid.html">tune_grid()</a></code>, albo jedną z funkcji wyścigowych. Użycie liczby całkowitej określa rozmiar konstrukcji wypełniającej przestrzeń, która jest próbkowana przed pierwszym modelem GP.</li>
<li>
<code>objective</code> jest argumentem, dla którego należy użyć funkcji akwizycji. Pakiet <code>tune</code> zawiera funkcje takie jak <code><a href="https://tune.tidymodels.org/reference/prob_improve.html">exp_improve()</a></code> lub <code><a href="https://tune.tidymodels.org/reference/prob_improve.html">conf_bound()</a></code>.</li>
<li>Argument <code>param_info</code>, w tym przypadku określa zakres parametrów, jak również wszelkie transformacje.</li>
</ul>
<p>Argument <code>control</code> funkcji <code><a href="https://tune.tidymodels.org/reference/tune_bayes.html">tune_bayes()</a></code> ustawia się za pomocą <code><a href="https://tune.tidymodels.org/reference/control_bayes.html">control_bayes()</a></code>. Niektóre istotne argumenty to:</p>
<ul>
<li>
<code>no_improve</code> to liczba całkowita, która zatrzyma wyszukiwanie, jeśli ulepszone parametry nie zostaną odkryte w ciągu iteracji <code>no_improve</code>.</li>
<li>
<code>uncertain</code> jest również liczbą całkowitą (lub <code>Inf</code>), używaną do ustalenia liczby przejść algorytmu wg reguły eksploatacji bez poprawy, aby następnie wybrać próbę z zakresu z wysoką wariancją, po to żeby dokonać eksploracji.</li>
<li>
<code>verbose</code> jest parametrem, który decyduje co będzie się wyświetlało podczas przebiegu algorytmu.</li>
</ul>
<p>Użyjmy pierwszych wyników SVM jako początkowego podłoża dla modelu GP. Przypomnijmy, że w tym zastosowaniu chcemy zmaksymalizować obszar pod krzywą ROC.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Kod</summary><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ctrl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tune.tidymodels.org/reference/control_bayes.html">control_bayes</a></span><span class="op">(</span>verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1403</span><span class="op">)</span></span>
<span><span class="va">svm_bo</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">svm_wflow</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://tune.tidymodels.org/reference/tune_bayes.html">tune_bayes</a></span><span class="op">(</span></span>
<span>    resamples <span class="op">=</span> <span class="va">cell_folds</span>,</span>
<span>    metrics <span class="op">=</span> <span class="va">roc_res</span>,</span>
<span>    initial <span class="op">=</span> <span class="va">svm_initial</span>,</span>
<span>    param_info <span class="op">=</span> <span class="va">svm_param</span>,</span>
<span>    iter <span class="op">=</span> <span class="fl">25</span>,</span>
<span>    control <span class="op">=</span> <span class="va">ctrl</span></span>
<span>  <span class="op">)</span></span></code><button title="Kopiuj do schowka" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details open="" class="code-fold"><summary>Kod</summary><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://tune.tidymodels.org/reference/collect_predictions.html">collect_metrics</a></span><span class="op">(</span><span class="va">svm_bo</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">gt</span><span class="op">(</span><span class="op">)</span></span></code><button title="Kopiuj do schowka" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="tbl-bo1" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-bo1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tab.&nbsp;12.3: Przebieg optymalizacji baysowskiej
</figcaption><div aria-describedby="tbl-bo1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<div id="argozolhlp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#argozolhlp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#argozolhlp thead, #argozolhlp tbody, #argozolhlp tfoot, #argozolhlp tr, #argozolhlp td, #argozolhlp th {
  border-style: none;
}

#argozolhlp p {
  margin: 0;
  padding: 0;
}

#argozolhlp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#argozolhlp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#argozolhlp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#argozolhlp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#argozolhlp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#argozolhlp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#argozolhlp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#argozolhlp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#argozolhlp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#argozolhlp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#argozolhlp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#argozolhlp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#argozolhlp .gt_spanner_row {
  border-bottom-style: hidden;
}

#argozolhlp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#argozolhlp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#argozolhlp .gt_from_md > :first-child {
  margin-top: 0;
}

#argozolhlp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#argozolhlp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#argozolhlp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#argozolhlp .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#argozolhlp .gt_row_group_first td {
  border-top-width: 2px;
}

#argozolhlp .gt_row_group_first th {
  border-top-width: 2px;
}

#argozolhlp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#argozolhlp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#argozolhlp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#argozolhlp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#argozolhlp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#argozolhlp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#argozolhlp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#argozolhlp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#argozolhlp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#argozolhlp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#argozolhlp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#argozolhlp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#argozolhlp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#argozolhlp .gt_left {
  text-align: left;
}

#argozolhlp .gt_center {
  text-align: center;
}

#argozolhlp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#argozolhlp .gt_font_normal {
  font-weight: normal;
}

#argozolhlp .gt_font_bold {
  font-weight: bold;
}

#argozolhlp .gt_font_italic {
  font-style: italic;
}

#argozolhlp .gt_super {
  font-size: 65%;
}

#argozolhlp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#argozolhlp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#argozolhlp .gt_indent_1 {
  text-indent: 5px;
}

#argozolhlp .gt_indent_2 {
  text-indent: 10px;
}

#argozolhlp .gt_indent_3 {
  text-indent: 15px;
}

#argozolhlp .gt_indent_4 {
  text-indent: 20px;
}

#argozolhlp .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="header gt_col_headings">
<th id="cost" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">cost</th>
<th id="rbf_sigma" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">rbf_sigma</th>
<th id=".metric" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">.metric</th>
<th id=".estimator" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">.estimator</th>
<th id="mean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">mean</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n</th>
<th id="std_err" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">std_err</th>
<th id=".config" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">.config</th>
<th id=".iter" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">.iter</th>
</tr></thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.015625000</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.000000e-06</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8638724</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008637894</td>
<td class="gt_row gt_left" headers=".config">Preprocessor1_Model1</td>
<td class="gt_row gt_right" headers=".iter">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">2.000000000</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.000000e-06</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8625326</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008672545</td>
<td class="gt_row gt_left" headers=".config">Preprocessor1_Model2</td>
<td class="gt_row gt_right" headers=".iter">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.015625000</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.000000e-04</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8627495</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008624554</td>
<td class="gt_row gt_left" headers=".config">Preprocessor1_Model3</td>
<td class="gt_row gt_right" headers=".iter">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">2.000000000</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.000000e-04</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8659439</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008545691</td>
<td class="gt_row gt_left" headers=".config">Preprocessor1_Model4</td>
<td class="gt_row gt_right" headers=".iter">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.110831031</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.665887e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8882389</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008697493</td>
<td class="gt_row gt_left" headers=".config">Iter1</td>
<td class="gt_row gt_right" headers=".iter">1</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">0.002570159</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.498759e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8733510</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008784422</td>
<td class="gt_row gt_left" headers=".config">Iter2</td>
<td class="gt_row gt_right" headers=".iter">2</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.076743095</td>
<td class="gt_row gt_right" headers="rbf_sigma">3.257686e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8820147</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008962769</td>
<td class="gt_row gt_left" headers=".config">Iter3</td>
<td class="gt_row gt_right" headers=".iter">3</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">0.158777868</td>
<td class="gt_row gt_right" headers="rbf_sigma">8.699292e-04</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8646797</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008717232</td>
<td class="gt_row gt_left" headers=".config">Iter4</td>
<td class="gt_row gt_right" headers=".iter">4</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.028725163</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.614512e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8748373</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.009077821</td>
<td class="gt_row gt_left" headers=".config">Iter5</td>
<td class="gt_row gt_right" headers=".iter">5</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">0.110836919</td>
<td class="gt_row gt_right" headers="rbf_sigma">4.063308e-07</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8640364</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008588054</td>
<td class="gt_row gt_left" headers=".config">Iter6</td>
<td class="gt_row gt_right" headers=".iter">6</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.161280423</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.376079e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8912983</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008546152</td>
<td class="gt_row gt_left" headers=".config">Iter7</td>
<td class="gt_row gt_right" headers=".iter">7</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">0.191548445</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.753100e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8924207</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008604149</td>
<td class="gt_row gt_left" headers=".config">Iter8</td>
<td class="gt_row gt_right" headers=".iter">8</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.322506923</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.024837e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8951338</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008488570</td>
<td class="gt_row gt_left" headers=".config">Iter9</td>
<td class="gt_row gt_right" headers=".iter">9</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">0.616915747</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.547641e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8953431</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008324862</td>
<td class="gt_row gt_left" headers=".config">Iter10</td>
<td class="gt_row gt_right" headers=".iter">10</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.528787926</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.052531e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8954957</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008263982</td>
<td class="gt_row gt_left" headers=".config">Iter11</td>
<td class="gt_row gt_right" headers=".iter">11</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">0.552359295</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.381201e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8954230</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008235443</td>
<td class="gt_row gt_left" headers=".config">Iter12</td>
<td class="gt_row gt_right" headers=".iter">12</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.518642133</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.172084e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8957039</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008241457</td>
<td class="gt_row gt_left" headers=".config">Iter13</td>
<td class="gt_row gt_right" headers=".iter">13</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">0.699416391</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.187984e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8954909</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008317203</td>
<td class="gt_row gt_left" headers=".config">Iter14</td>
<td class="gt_row gt_right" headers=".iter">14</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">22.086197445</td>
<td class="gt_row gt_right" headers="rbf_sigma">3.848670e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8647523</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.009452636</td>
<td class="gt_row gt_left" headers=".config">Iter15</td>
<td class="gt_row gt_right" headers=".iter">15</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">0.415152612</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.230321e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8951613</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008306736</td>
<td class="gt_row gt_left" headers=".config">Iter16</td>
<td class="gt_row gt_right" headers=".iter">16</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.001157284</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.435740e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8656808</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008630693</td>
<td class="gt_row gt_left" headers=".config">Iter17</td>
<td class="gt_row gt_right" headers=".iter">17</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">0.924338505</td>
<td class="gt_row gt_right" headers="rbf_sigma">7.885258e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8858168</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008167638</td>
<td class="gt_row gt_left" headers=".config">Iter18</td>
<td class="gt_row gt_right" headers=".iter">18</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">29.083907487</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.192898e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8979424</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008064529</td>
<td class="gt_row gt_left" headers=".config">Iter19</td>
<td class="gt_row gt_right" headers=".iter">19</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">31.924080961</td>
<td class="gt_row gt_right" headers="rbf_sigma">6.212242e-04</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8942442</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008618062</td>
<td class="gt_row gt_left" headers=".config">Iter20</td>
<td class="gt_row gt_right" headers=".iter">20</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">10.599233064</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.275900e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8952500</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008543058</td>
<td class="gt_row gt_left" headers=".config">Iter21</td>
<td class="gt_row gt_right" headers=".iter">21</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">30.740481343</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.907822e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8985736</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.007908688</td>
<td class="gt_row gt_left" headers=".config">Iter22</td>
<td class="gt_row gt_right" headers=".iter">22</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">24.204296906</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.712143e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8983898</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.007782671</td>
<td class="gt_row gt_left" headers=".config">Iter23</td>
<td class="gt_row gt_right" headers=".iter">23</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">31.939709359</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.703217e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8988150</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.007769977</td>
<td class="gt_row gt_left" headers=".config">Iter24</td>
<td class="gt_row gt_right" headers=".iter">24</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.001100257</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.000011e-07</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8639531</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008702518</td>
<td class="gt_row gt_left" headers=".config">Iter25</td>
<td class="gt_row gt_right" headers=".iter">25</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</figure>
</div>
</div>
<div class="cell">
<details open="" class="code-fold"><summary>Kod</summary><div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://tune.tidymodels.org/reference/show_best.html">show_best</a></span><span class="op">(</span><span class="va">svm_bo</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">gt</span><span class="op">(</span><span class="op">)</span></span></code><button title="Kopiuj do schowka" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="tbl-bo2" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-bo2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tab.&nbsp;12.4: Zestaw optymalnych parametrów na podstawie OB
</figcaption><div aria-describedby="tbl-bo2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<div id="zsvatcklhn" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zsvatcklhn table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zsvatcklhn thead, #zsvatcklhn tbody, #zsvatcklhn tfoot, #zsvatcklhn tr, #zsvatcklhn td, #zsvatcklhn th {
  border-style: none;
}

#zsvatcklhn p {
  margin: 0;
  padding: 0;
}

#zsvatcklhn .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zsvatcklhn .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zsvatcklhn .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zsvatcklhn .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zsvatcklhn .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zsvatcklhn .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zsvatcklhn .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zsvatcklhn .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zsvatcklhn .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zsvatcklhn .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zsvatcklhn .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zsvatcklhn .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zsvatcklhn .gt_spanner_row {
  border-bottom-style: hidden;
}

#zsvatcklhn .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zsvatcklhn .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zsvatcklhn .gt_from_md > :first-child {
  margin-top: 0;
}

#zsvatcklhn .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zsvatcklhn .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zsvatcklhn .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zsvatcklhn .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zsvatcklhn .gt_row_group_first td {
  border-top-width: 2px;
}

#zsvatcklhn .gt_row_group_first th {
  border-top-width: 2px;
}

#zsvatcklhn .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zsvatcklhn .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zsvatcklhn .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zsvatcklhn .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zsvatcklhn .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zsvatcklhn .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zsvatcklhn .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zsvatcklhn .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zsvatcklhn .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zsvatcklhn .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zsvatcklhn .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zsvatcklhn .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zsvatcklhn .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zsvatcklhn .gt_left {
  text-align: left;
}

#zsvatcklhn .gt_center {
  text-align: center;
}

#zsvatcklhn .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zsvatcklhn .gt_font_normal {
  font-weight: normal;
}

#zsvatcklhn .gt_font_bold {
  font-weight: bold;
}

#zsvatcklhn .gt_font_italic {
  font-style: italic;
}

#zsvatcklhn .gt_super {
  font-size: 65%;
}

#zsvatcklhn .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zsvatcklhn .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zsvatcklhn .gt_indent_1 {
  text-indent: 5px;
}

#zsvatcklhn .gt_indent_2 {
  text-indent: 10px;
}

#zsvatcklhn .gt_indent_3 {
  text-indent: 15px;
}

#zsvatcklhn .gt_indent_4 {
  text-indent: 20px;
}

#zsvatcklhn .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="header gt_col_headings">
<th id="cost" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">cost</th>
<th id="rbf_sigma" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">rbf_sigma</th>
<th id=".metric" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">.metric</th>
<th id=".estimator" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">.estimator</th>
<th id="mean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">mean</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n</th>
<th id="std_err" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">std_err</th>
<th id=".config" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">.config</th>
<th id=".iter" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">.iter</th>
</tr></thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="cost">31.9397094</td>
<td class="gt_row gt_right" headers="rbf_sigma">0.001703217</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8988150</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.007769977</td>
<td class="gt_row gt_left" headers=".config">Iter24</td>
<td class="gt_row gt_right" headers=".iter">24</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">30.7404813</td>
<td class="gt_row gt_right" headers="rbf_sigma">0.001907822</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8985736</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.007908688</td>
<td class="gt_row gt_left" headers=".config">Iter22</td>
<td class="gt_row gt_right" headers=".iter">22</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">24.2042969</td>
<td class="gt_row gt_right" headers="rbf_sigma">0.001712143</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8983898</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.007782671</td>
<td class="gt_row gt_left" headers=".config">Iter23</td>
<td class="gt_row gt_right" headers=".iter">23</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">29.0839075</td>
<td class="gt_row gt_right" headers="rbf_sigma">0.001192898</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8979424</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008064529</td>
<td class="gt_row gt_left" headers=".config">Iter19</td>
<td class="gt_row gt_right" headers=".iter">19</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.5186421</td>
<td class="gt_row gt_right" headers="rbf_sigma">0.021720838</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8957039</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008241457</td>
<td class="gt_row gt_left" headers=".config">Iter13</td>
<td class="gt_row gt_right" headers=".iter">13</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</figure>
</div>
</div>
<div class="cell">
<details open="" class="code-fold"><summary>Kod</summary><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html">autoplot</a></span><span class="op">(</span><span class="va">svm_bo</span>, type <span class="op">=</span> <span class="st">"performance"</span><span class="op">)</span></span></code><button title="Kopiuj do schowka" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-bo1" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bo1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="iterative_files/figure-html/fig-bo1-1.png" class="lightbox" data-glightbox="description: .lightbox-desc-9" data-gallery="quarto-lightbox-gallery-9"><img src="iterative_files/figure-html/fig-bo1-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bo1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Rys.&nbsp;12.6: Jakość dopasowania modelu w poszczególnych iteracjach OB
</figcaption></figure>
</div>
</div>
</div>
<p>Poniższa animacja wizualizuje wyniki wyszukiwania. Czarne “x” pokazują wartości początkowe zawarte w <code>svm_initial</code>. Niebieski panel u góry po lewej stronie pokazuje przewidywaną średnią wartość obszaru pod krzywą ROC. Czerwony panel na górze po prawej stronie pokazuje przewidywaną zmienność wartości ROC, podczas gdy dolny wykres wizualizuje oczekiwaną poprawę. W każdym panelu ciemniejsze kolory wskazują mniej atrakcyjne wartości (np. małe wartości średnie, duże zróżnicowanie i małe ulepszenia).</p>
<div id="fig-iter6" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-iter6-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="https://www.tmwr.org/bo_search.mp4" class="lightbox" data-glightbox="description: .lightbox-desc-10" data-gallery="quarto-lightbox-gallery-10"><video src="https://www.tmwr.org/bo_search.mp4" class="img-fluid quarto-figure quarto-figure-center" controls=""></video></a><a href="https://www.tmwr.org/bo_search.mp4">Video</a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-iter6-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Rys.&nbsp;12.7: Przykład działania optymalizacji bayesowskiej
</figcaption></figure>
</div>
<p>Powierzchnia przewidywanej średniej jest bardzo niedokładna w pierwszych kilku iteracjach wyszukiwania. Pomimo tego, pomaga ona poprowadzić proces w rejon dobrej wydajności. W ciągu pierwszych dziesięciu iteracji, wyszukiwanie jest dokonywane w pobliżu optymalnego miejsca.</p>
<p>Podczas gdy najlepsza kombinacja dostrajania parametrów znajduje się na granicy przestrzeni parametrów, optymalizacja bayesowska często wybierze nowe punkty poza granicami przestrzeni parametrów.</p>
<p>Powyższy przykład startował z punktów startowych wybranych nieco arbitralnie ale nieco lepsze wyniki można osiągnąć stosując losowe wypełnienie przestrzeni parametrów.</p>
</section></section><section id="symulowane-wyżarzanie" class="level2 page-columns page-full" data-number="12.2"><h2 data-number="12.2" class="anchored" data-anchor-id="symulowane-wyżarzanie">
<span class="header-section-number">12.2</span> Symulowane wyżarzanie</h2>
<p>Symulowane wyżarzanie (ang. <em>simulated annealing</em>) <span class="citation" data-cites="kirkpatrickOptimizationSimulatedAnnealing1983 vanlaarhoven1987">(<a href="references.html#ref-kirkpatrickOptimizationSimulatedAnnealing1983" role="doc-biblioref">Kirkpatrick, Gelatt, i Vecchi 1983</a>; <a href="references.html#ref-vanlaarhoven1987" role="doc-biblioref">Laarhoven i Aarts 1987</a>)</span>; jest nieliniową procedurą wyszukiwania zainspirowaną procesem stygnięcia metalu. Jest to metoda globalnego wyszukiwania, która może efektywnie poruszać się po wielu różnych obszarach poszukiwań, w tym po funkcjach nieciągłych. W przeciwieństwie do większości procedur optymalizacji opartych na gradiencie, symulowane wyżarzanie może ponownie ocenić poprzednie rozwiązania.</p>
<p>Proces użycia symulowanego wyżarzania rozpoczyna się od wartości początkowej i rozpoczyna kontrolowany losowy spacer przez przestrzeń parametrów. Każda nowa wartość parametru-kandydata jest niewielką perturbacją poprzedniej wartości, która utrzymuje nowy punkt w lokalnym sąsiedztwie.</p>
<p>Punkt kandydujący jest oceniana przy zastosowaniu resamplingu, aby uzyskać odpowiadającą mu wartość wydajności. Jeśli osiąga ona lepsze wyniki niż poprzednie parametry, jest akceptowana jako nowa najlepsza i proces jest kontynuowany. Jeśli wyniki są gorsze niż poprzednia wartość, procedura wyszukiwania może nadal używać tego parametru do określenia dalszych kroków. Zależy to od dwóch czynników. Po pierwsze, prawdopodobieństwo zatrzymania złego kandydata maleje wraz z pogorszeniem się wyników. Innymi słowy, tylko nieco gorszy wynik od obecnie najlepszego ma większą szansę na akceptację niż ten z dużym spadkiem wydajności. Drugim czynnikiem jest liczba iteracji wyszukiwania. Symulowane wyżarzanie próbuje zaakceptować mniej suboptymalnych wartości w miarę postępu wyszukiwania. Z tych dwóch czynników prawdopodobieństwo akceptacji złego wyniku można sformalizować jako:</p>
<p><span id="eq-simulated-annealing"><span class="math display">\[
\operatorname{Pr}[\text{accept suboptimal parameters at iteration } i] = \exp(c\times D_i \times i)
\tag{12.2}\]</span></span></p>
<p>gdzie <span class="math inline">\(i\)</span> jest numerem iteracji, <span class="math inline">\(c\)</span> jest stałą określoną przez użytkownika, <span class="math inline">\(D_i\)</span> jest procentową różnicą pomiędzy starą i nową wartością (gdzie wartości ujemne oznaczają gorsze wyniki). Dla złego wyniku określamy prawdopodobieństwo akceptacji i porównujemy je z liczbą wylosowaną z rozkładu jednostajnego. Jeśli liczba ta jest większa od wartości prawdopodobieństwa, wyszukiwanie odrzuca bieżące parametry i następna iteracja tworzy swoją wartość kandydata w sąsiedztwie poprzedniej wartości. W przeciwnym razie następna iteracja tworzy kolejny zestaw parametrów na podstawie bieżących (suboptymalnych) wartości.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Zagrożenie
</div>
</div>
<div class="callout-body-container callout-body">
<p>Prawdopodobieństwa akceptacji symulowanego wyżarzania pozwalają na postępowanie w złym kierunku, przynajmniej na krótką metę, z potencjałem znalezienia znacznie lepszego regionu przestrzeni parametrów w dłuższej perspektywie.</p>
</div>
</div>
<p>Mapa ciepła na <a href="#fig-sa1" class="quarto-xref">Rys.&nbsp;<span>12.8</span></a> pokazuje, jak prawdopodobieństwo akceptacji może się zmieniać w zależności od iteracji, wydajności i współczynnika określonego przez użytkownika.</p>
<div id="fig-sa1" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-sa1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/Zrzut ekranu 2023-03-10 o 19.23.10.png" class="lightbox" data-glightbox="description: .lightbox-desc-11" data-gallery="quarto-lightbox-gallery-11"><img src="images/Zrzut ekranu 2023-03-10 o 19.23.10.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sa1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Rys.&nbsp;12.8: Mapa ciepła prawdopodobieństwa akceptacji symulowanego wyżarzania dla różnych wartości współczynnika
</figcaption></figure>
</div>
<p>Użytkownik może dostosować współczynniki <span class="math inline">\(c\)</span>, aby znaleźć profil prawdopodobieństwa, który odpowiada jego potrzebom. W <code><a href="https://finetune.tidymodels.org/reference/control_sim_anneal.html">finetune::control_sim_anneal()</a></code>, domyślnym dla tego argumentu <code>cooling_coef</code> jest 0.02. Zmniejszenie tego współczynnika zachęci wyszukiwanie do bycia bardziej wyrozumiałym dla słabych wyników.</p>
<p>Proces ten trwa przez określoną ilość iteracji, ale może zostać zatrzymany, jeśli w ciągu określonej liczby iteracji nie pojawią się globalnie najlepsze wyniki. Bardzo pomocne może być ustawienie progu restartu. Jeśli wystąpi ciąg niepowodzeń, funkcja ta powraca do ostatnich globalnie najlepszych ustawień parametrów i zaczyna od nowa.</p>
<div class="quarto-figure quarto-figure-center page-columns page-full">
<figure class="figure page-columns page-full"><p class="page-columns page-full"><a href="https://i.pinimg.com/originals/66/5d/14/665d149267356ca2a1edb36b20414122.gif" class="lightbox page-columns page-full" data-gallery="quarto-lightbox-gallery-12"></a></p><div class="no-row-height column-margin column-container"><a href="https://i.pinimg.com/originals/66/5d/14/665d149267356ca2a1edb36b20414122.gif" class="lightbox page-columns page-full" data-gallery="quarto-lightbox-gallery-12"><img src="https://i.pinimg.com/originals/66/5d/14/665d149267356ca2a1edb36b20414122.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" width="400"></a></div><p></p>
</figure>
</div>
<p>Najważniejszym szczegółem jest określenie sposobu perturbacji parametrów dostrajania z iteracji na iterację. W literaturze można znaleźć wiele metod na to. My stosujemy metodę podaną przez <span class="citation" data-cites="bohachevsky1986">Bohachevsky, Johnson, i Stein (<a href="references.html#ref-bohachevsky1986" role="doc-biblioref">1986</a>)</span> zwaną uogólnionym symulowanym wyżarzaniem. Dla ciągłych parametrów dostrajania definiujemy mały promień, aby określić lokalne “sąsiedztwo”. Na przykład załóżmy, że są dwa parametry dostrajania i każdy z nich jest ograniczony przez zero i jeden. Proces symulowanego wyżarzania generuje losowe wartości na otaczającym promieniu i losowo wybiera jedną z nich jako aktualną wartość kandydacką.</p>
<p>Wielkość promienia kontroluje, jak szybko wyszukiwanie bada przestrzeń parametrów. Im większy jest promień tym szybciej przestrzeń parametrów będzie przeszukiwana przez algorytm ale jednocześnie mniej dokładnie.</p>
<p>Dla zilustrowania użyjemy dwóch głównych parametrów dostrajania <code>glmnet</code>:</p>
<ul>
<li>Wielkość kary (<code>penalty</code>). Domyślny zakres tego parametru to od <span class="math inline">\(10^{-10}\)</span> do <span class="math inline">\(10^0\)</span>. Najczęściej jest podawany w skali logarytmicznej o podstawie 10.</li>
<li>Proporcja kary lasso (<code>mixture</code>) - wartość pomiędzy 0 i 1 określająca balans pomiędzy karą L1 i L2.</li>
</ul>
<p>Proces rozpoczyna się od wartości początkowych <code>penalty</code> = 0,025 i <code>mixture</code> = 0,050. Używając promienia, który losowo waha się między 0,050 a 0,015, dane są odpowiednio skalowane, losowe wartości są generowane na promieniach wokół punktu początkowego, a następnie jedna jest losowo wybierana jako kandydat. Dla ilustracji przyjmiemy, że wszystkie wartości kandydujące faktycznie poprawiają wydajność modelu. Korzystając z nowej wartości, generowany jest zestaw nowych losowych sąsiadów, wybierany jest jeden, i tak dalej. <a href="#fig-sa2" class="quarto-xref">Rys.&nbsp;<span>12.9</span></a> przedstawia sześć iteracji sukcesywnie podążających do lewego górnego rogu.</p>
<div id="fig-sa2" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-sa2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="images/Zrzut ekranu 2023-03-10 o 19.46.04.png" class="lightbox" data-glightbox="description: .lightbox-desc-13" data-gallery="quarto-lightbox-gallery-13"><img src="images/Zrzut ekranu 2023-03-10 o 19.46.04.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sa2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Rys.&nbsp;12.9: Kilka iteracji procesu symulowanego wyżarzania
</figcaption></figure>
</div>
<p>Zauważmy, że podczas niektórych iteracji zestawy kandydatów wzdłuż promienia wykluczają punkty poza granicami parametrów. Ponadto, nasza implementacja przesuwa wybór kolejnych konfiguracji dostrajania parametrów od nowych wartości, które są bardzo podobne do poprzednich konfiguracji.</p>
<p>Dla parametrów kategorycznych i całkowitych, każdy z nich jest generowany z określonym wcześniej prawdopodobieństwem. Argument <code>flip</code> w <code><a href="https://finetune.tidymodels.org/reference/control_sim_anneal.html">control_sim_anneal()</a></code> może być użyty do określenia tego prawdopodobieństwa. Dla parametrów całkowitoliczbowych, używana jest najbliższa wartość całkowita.</p>
<p>Przeszukiwanie metodą symulowanego wyżarzania może nie być optymalna w przypadku, gdy wiele parametrów jest nienumerycznych lub całkowitoliczbowych o niewielu unikalnych wartościach. W tych przypadkach jest prawdopodobne, że ten sam zestaw kandydatów może być testowany więcej niż raz.</p>
<p>Aby zaimplementować wyszukiwanie iteracyjne poprzez symulowane wyżarzanie, użyj funkcji <code><a href="https://finetune.tidymodels.org/reference/tune_sim_anneal.html">tune_sim_anneal()</a></code>. Składnia tej funkcji jest niemal identyczna jak <code><a href="https://tune.tidymodels.org/reference/tune_bayes.html">tune_bayes()</a></code>. Nie ma żadnych opcji dotyczących funkcji akwizycji czy próbkowania niepewności. Funkcja <code><a href="https://finetune.tidymodels.org/reference/control_sim_anneal.html">control_sim_anneal()</a></code> posiada pewne szczegóły, które definiują lokalne sąsiedztwo i harmonogram chłodzenia:</p>
<ul>
<li>
<code>no_improve</code> jest liczbą całkowitą, która zatrzyma wyszukiwanie, jeśli w ciągu iteracji określonym przez <code>no_improve</code> nie zostaną odkryte globalnie najlepsze wyniki. Przyjęte suboptymalne lub odrzucone parametry liczą się jako “brak poprawy”.</li>
<li>
<code>restart</code> to liczba iteracji, która musi minąć bez poprawy jakości modelu, po której następuje przejście do najlepszego poprzednio ustalonego zestawu parametrów.</li>
<li>
<code>radius</code> to wektor liczbowy w przedziale (0, 1), który określa minimalny i maksymalny promień lokalnego sąsiedztwa wokół punktu początkowego.</li>
<li>
<code>flip</code> to wartość prawdopodobieństwa określająca szanse zmiany wartości parametrów kategorycznych lub całkowitych.</li>
<li>
<code>cooling_coef</code> jest współczynnikiem <span class="math inline">\(c\)</span> w <span class="math inline">\(\exp(c\times D_i \times i)\)</span>, który moduluje jak szybko prawdopodobieństwo akceptacji maleje w trakcie iteracji. Większe wartości <code>cooling_coef</code> zmniejszają prawdopodobieństwo akceptacji suboptymalnego ustawienia parametrów.</li>
</ul>
<p>Dla danych dotyczących segmentacji komórek składnia jest bardzo spójna z poprzednio stosowanymi funkcjami:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Kod</summary><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ctrl_sa</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://finetune.tidymodels.org/reference/control_sim_anneal.html">control_sim_anneal</a></span><span class="op">(</span>verbose <span class="op">=</span> <span class="cn">TRUE</span>, no_improve <span class="op">=</span> <span class="fl">10L</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1404</span><span class="op">)</span></span>
<span><span class="va">svm_sa</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">svm_wflow</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://finetune.tidymodels.org/reference/tune_sim_anneal.html">tune_sim_anneal</a></span><span class="op">(</span></span>
<span>    resamples <span class="op">=</span> <span class="va">cell_folds</span>,</span>
<span>    metrics <span class="op">=</span> <span class="va">roc_res</span>,</span>
<span>    initial <span class="op">=</span> <span class="va">svm_initial</span>,</span>
<span>    param_info <span class="op">=</span> <span class="va">svm_param</span>,</span>
<span>    iter <span class="op">=</span> <span class="fl">50</span>,</span>
<span>    control <span class="op">=</span> <span class="va">ctrl_sa</span></span>
<span>  <span class="op">)</span></span></code><button title="Kopiuj do schowka" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Dane wyjściowe dla poszczególnych iteracji:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Kod</summary><div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://tune.tidymodels.org/reference/collect_predictions.html">collect_metrics</a></span><span class="op">(</span><span class="va">svm_sa</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">gt</span><span class="op">(</span><span class="op">)</span></span></code><button title="Kopiuj do schowka" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="tbl-sa1" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-sa1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tab.&nbsp;12.5: Podsumowanie symulowanego wyżarzania
</figcaption><div aria-describedby="tbl-sa1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<div id="zfsmrgckxu" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zfsmrgckxu table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zfsmrgckxu thead, #zfsmrgckxu tbody, #zfsmrgckxu tfoot, #zfsmrgckxu tr, #zfsmrgckxu td, #zfsmrgckxu th {
  border-style: none;
}

#zfsmrgckxu p {
  margin: 0;
  padding: 0;
}

#zfsmrgckxu .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zfsmrgckxu .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zfsmrgckxu .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zfsmrgckxu .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zfsmrgckxu .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zfsmrgckxu .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zfsmrgckxu .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zfsmrgckxu .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zfsmrgckxu .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zfsmrgckxu .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zfsmrgckxu .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zfsmrgckxu .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zfsmrgckxu .gt_spanner_row {
  border-bottom-style: hidden;
}

#zfsmrgckxu .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zfsmrgckxu .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zfsmrgckxu .gt_from_md > :first-child {
  margin-top: 0;
}

#zfsmrgckxu .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zfsmrgckxu .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zfsmrgckxu .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zfsmrgckxu .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zfsmrgckxu .gt_row_group_first td {
  border-top-width: 2px;
}

#zfsmrgckxu .gt_row_group_first th {
  border-top-width: 2px;
}

#zfsmrgckxu .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zfsmrgckxu .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zfsmrgckxu .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zfsmrgckxu .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zfsmrgckxu .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zfsmrgckxu .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zfsmrgckxu .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zfsmrgckxu .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zfsmrgckxu .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zfsmrgckxu .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zfsmrgckxu .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zfsmrgckxu .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zfsmrgckxu .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zfsmrgckxu .gt_left {
  text-align: left;
}

#zfsmrgckxu .gt_center {
  text-align: center;
}

#zfsmrgckxu .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zfsmrgckxu .gt_font_normal {
  font-weight: normal;
}

#zfsmrgckxu .gt_font_bold {
  font-weight: bold;
}

#zfsmrgckxu .gt_font_italic {
  font-style: italic;
}

#zfsmrgckxu .gt_super {
  font-size: 65%;
}

#zfsmrgckxu .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zfsmrgckxu .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zfsmrgckxu .gt_indent_1 {
  text-indent: 5px;
}

#zfsmrgckxu .gt_indent_2 {
  text-indent: 10px;
}

#zfsmrgckxu .gt_indent_3 {
  text-indent: 15px;
}

#zfsmrgckxu .gt_indent_4 {
  text-indent: 20px;
}

#zfsmrgckxu .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="header gt_col_headings">
<th id="cost" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">cost</th>
<th id="rbf_sigma" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">rbf_sigma</th>
<th id=".metric" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">.metric</th>
<th id=".estimator" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">.estimator</th>
<th id="mean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">mean</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n</th>
<th id="std_err" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">std_err</th>
<th id=".config" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">.config</th>
<th id=".iter" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">.iter</th>
</tr></thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.0156250</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.000000e-06</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8638724</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008637894</td>
<td class="gt_row gt_left" headers=".config">initial_Preprocessor1_Model1</td>
<td class="gt_row gt_right" headers=".iter">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">2.0000000</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.000000e-06</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8625326</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008672545</td>
<td class="gt_row gt_left" headers=".config">initial_Preprocessor1_Model2</td>
<td class="gt_row gt_right" headers=".iter">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.0156250</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.000000e-04</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8627495</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008624554</td>
<td class="gt_row gt_left" headers=".config">initial_Preprocessor1_Model3</td>
<td class="gt_row gt_right" headers=".iter">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">2.0000000</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.000000e-04</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8659439</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008545691</td>
<td class="gt_row gt_left" headers=".config">initial_Preprocessor1_Model4</td>
<td class="gt_row gt_right" headers=".iter">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">2.7792215</td>
<td class="gt_row gt_right" headers="rbf_sigma">4.231877e-05</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8635104</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008642153</td>
<td class="gt_row gt_left" headers=".config">Iter1</td>
<td class="gt_row gt_right" headers=".iter">1</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">8.9751798</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.317101e-04</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8733437</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008401879</td>
<td class="gt_row gt_left" headers=".config">Iter2</td>
<td class="gt_row gt_right" headers=".iter">2</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">8.0489544</td>
<td class="gt_row gt_right" headers="rbf_sigma">3.113457e-05</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8672404</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008380301</td>
<td class="gt_row gt_left" headers=".config">Iter3</td>
<td class="gt_row gt_right" headers=".iter">3</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">7.4631879</td>
<td class="gt_row gt_right" headers="rbf_sigma">6.401369e-05</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8704169</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008147365</td>
<td class="gt_row gt_left" headers=".config">Iter4</td>
<td class="gt_row gt_right" headers=".iter">4</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">25.4276256</td>
<td class="gt_row gt_right" headers="rbf_sigma">6.964316e-05</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8744436</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008459084</td>
<td class="gt_row gt_left" headers=".config">Iter5</td>
<td class="gt_row gt_right" headers=".iter">5</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">26.0442746</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.620597e-05</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8696570</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008110480</td>
<td class="gt_row gt_left" headers=".config">Iter6</td>
<td class="gt_row gt_right" headers=".iter">6</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">27.8247939</td>
<td class="gt_row gt_right" headers="rbf_sigma">6.830484e-06</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8658910</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008447841</td>
<td class="gt_row gt_left" headers=".config">Iter7</td>
<td class="gt_row gt_right" headers=".iter">7</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">11.5246937</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.459848e-06</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8623315</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008657469</td>
<td class="gt_row gt_left" headers=".config">Iter8</td>
<td class="gt_row gt_right" headers=".iter">8</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">11.5911446</td>
<td class="gt_row gt_right" headers="rbf_sigma">4.938754e-06</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8622997</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008647646</td>
<td class="gt_row gt_left" headers=".config">Iter9</td>
<td class="gt_row gt_right" headers=".iter">9</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">16.0739132</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.533161e-06</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8623219</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008658226</td>
<td class="gt_row gt_left" headers=".config">Iter10</td>
<td class="gt_row gt_right" headers=".iter">10</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">22.9676231</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.507608e-06</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8623751</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008670690</td>
<td class="gt_row gt_left" headers=".config">Iter11</td>
<td class="gt_row gt_right" headers=".iter">11</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">14.6174389</td>
<td class="gt_row gt_right" headers="rbf_sigma">3.625603e-07</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8624605</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008645675</td>
<td class="gt_row gt_left" headers=".config">Iter12</td>
<td class="gt_row gt_right" headers=".iter">12</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">30.2128582</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.354001e-07</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8625366</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008612533</td>
<td class="gt_row gt_left" headers=".config">Iter13</td>
<td class="gt_row gt_right" headers=".iter">13</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">14.1812532</td>
<td class="gt_row gt_right" headers="rbf_sigma">7.415027e-05</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8726092</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008351119</td>
<td class="gt_row gt_left" headers=".config">Iter14</td>
<td class="gt_row gt_right" headers=".iter">14</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">5.1974958</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.892985e-04</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8727956</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008301061</td>
<td class="gt_row gt_left" headers=".config">Iter15</td>
<td class="gt_row gt_right" headers=".iter">15</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">6.2799813</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.101844e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8897887</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008859945</td>
<td class="gt_row gt_left" headers=".config">Iter16</td>
<td class="gt_row gt_right" headers=".iter">16</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">1.7551679</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.895039e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8918849</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008922869</td>
<td class="gt_row gt_left" headers=".config">Iter17</td>
<td class="gt_row gt_right" headers=".iter">17</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">2.7450163</td>
<td class="gt_row gt_right" headers="rbf_sigma">7.152477e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8958891</td>
<td class="gt_row gt_right" headers="n">9</td>
<td class="gt_row gt_right" headers="std_err">0.009100454</td>
<td class="gt_row gt_left" headers=".config">Iter18</td>
<td class="gt_row gt_right" headers=".iter">18</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.6580640</td>
<td class="gt_row gt_right" headers="rbf_sigma">7.237199e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8944414</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008826226</td>
<td class="gt_row gt_left" headers=".config">Iter19</td>
<td class="gt_row gt_right" headers=".iter">19</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">0.2894265</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.800490e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8781751</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008519248</td>
<td class="gt_row gt_left" headers=".config">Iter20</td>
<td class="gt_row gt_right" headers=".iter">20</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.8648804</td>
<td class="gt_row gt_right" headers="rbf_sigma">9.061603e-04</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8744488</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008274188</td>
<td class="gt_row gt_left" headers=".config">Iter21</td>
<td class="gt_row gt_right" headers=".iter">21</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">2.6900002</td>
<td class="gt_row gt_right" headers="rbf_sigma">4.370896e-04</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8748006</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008467929</td>
<td class="gt_row gt_left" headers=".config">Iter22</td>
<td class="gt_row gt_right" headers=".iter">22</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">1.9738868</td>
<td class="gt_row gt_right" headers="rbf_sigma">8.518383e-04</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8787410</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008594452</td>
<td class="gt_row gt_left" headers=".config">Iter23</td>
<td class="gt_row gt_right" headers=".iter">23</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">2.8390760</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.343734e-04</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8694466</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008255440</td>
<td class="gt_row gt_left" headers=".config">Iter24</td>
<td class="gt_row gt_right" headers=".iter">24</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.6443050</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.818297e-04</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8660129</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008642925</td>
<td class="gt_row gt_left" headers=".config">Iter25</td>
<td class="gt_row gt_right" headers=".iter">25</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">0.4332128</td>
<td class="gt_row gt_right" headers="rbf_sigma">8.494378e-04</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8702872</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008407344</td>
<td class="gt_row gt_left" headers=".config">Iter26</td>
<td class="gt_row gt_right" headers=".iter">26</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">1.5062749</td>
<td class="gt_row gt_right" headers="rbf_sigma">4.117203e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8868902</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008384564</td>
<td class="gt_row gt_left" headers=".config">Iter27</td>
<td class="gt_row gt_right" headers=".iter">27</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">1.4313131</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.549218e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8963429</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008367098</td>
<td class="gt_row gt_left" headers=".config">Iter28</td>
<td class="gt_row gt_right" headers=".iter">28</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">2.7699626</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.362418e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8929540</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008489741</td>
<td class="gt_row gt_left" headers=".config">Iter29</td>
<td class="gt_row gt_right" headers=".iter">29</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">4.9266582</td>
<td class="gt_row gt_right" headers="rbf_sigma">4.583077e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8698810</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.009097231</td>
<td class="gt_row gt_left" headers=".config">Iter30</td>
<td class="gt_row gt_right" headers=".iter">30</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">7.7758900</td>
<td class="gt_row gt_right" headers="rbf_sigma">9.490760e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8874485</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008767151</td>
<td class="gt_row gt_left" headers=".config">Iter31</td>
<td class="gt_row gt_right" headers=".iter">31</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">4.8976312</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.580979e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8825035</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.009000858</td>
<td class="gt_row gt_left" headers=".config">Iter32</td>
<td class="gt_row gt_right" headers=".iter">32</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">12.4918485</td>
<td class="gt_row gt_right" headers="rbf_sigma">8.493479e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8829449</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008897035</td>
<td class="gt_row gt_left" headers=".config">Iter33</td>
<td class="gt_row gt_right" headers=".iter">33</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">9.4138354</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.056779e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8971685</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008342496</td>
<td class="gt_row gt_left" headers=".config">Iter34</td>
<td class="gt_row gt_right" headers=".iter">34</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">16.7499203</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.398614e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8985179</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.007916078</td>
<td class="gt_row gt_left" headers=".config">Iter35</td>
<td class="gt_row gt_right" headers=".iter">35</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">18.8139030</td>
<td class="gt_row gt_right" headers="rbf_sigma">4.403197e-04</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8839150</td>
<td class="gt_row gt_right" headers="n">9</td>
<td class="gt_row gt_right" headers="std_err">0.009020320</td>
<td class="gt_row gt_left" headers=".config">Iter36</td>
<td class="gt_row gt_right" headers=".iter">36</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">21.9409340</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.216970e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8973481</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008280488</td>
<td class="gt_row gt_left" headers=".config">Iter37</td>
<td class="gt_row gt_right" headers=".iter">37</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">8.7296351</td>
<td class="gt_row gt_right" headers="rbf_sigma">5.154540e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8961246</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008263055</td>
<td class="gt_row gt_left" headers=".config">Iter38</td>
<td class="gt_row gt_right" headers=".iter">38</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">13.5493211</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.655684e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8593977</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.009612964</td>
<td class="gt_row gt_left" headers=".config">Iter39</td>
<td class="gt_row gt_right" headers=".iter">39</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">3.4729934</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.312798e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8847509</td>
<td class="gt_row gt_right" headers="n">9</td>
<td class="gt_row gt_right" headers="std_err">0.009126495</td>
<td class="gt_row gt_left" headers=".config">Iter40</td>
<td class="gt_row gt_right" headers=".iter">40</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">3.1103793</td>
<td class="gt_row gt_right" headers="rbf_sigma">4.869128e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8969694</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008168916</td>
<td class="gt_row gt_left" headers=".config">Iter41</td>
<td class="gt_row gt_right" headers=".iter">41</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">1.2292254</td>
<td class="gt_row gt_right" headers="rbf_sigma">6.540634e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8965152</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008550536</td>
<td class="gt_row gt_left" headers=".config">Iter42</td>
<td class="gt_row gt_right" headers=".iter">42</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">0.5769315</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.846348e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8842725</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008540335</td>
<td class="gt_row gt_left" headers=".config">Iter43</td>
<td class="gt_row gt_right" headers=".iter">43</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">22.9584171</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.241411e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8618903</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.009740857</td>
<td class="gt_row gt_left" headers=".config">Iter44</td>
<td class="gt_row gt_right" headers=".iter">44</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">10.6297370</td>
<td class="gt_row gt_right" headers="rbf_sigma">4.059190e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8975137</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008203966</td>
<td class="gt_row gt_left" headers=".config">Iter45</td>
<td class="gt_row gt_right" headers=".iter">45</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">10.6164560</td>
<td class="gt_row gt_right" headers="rbf_sigma">2.519507e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8617737</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.009517440</td>
<td class="gt_row gt_left" headers=".config">Iter46</td>
<td class="gt_row gt_right" headers=".iter">46</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">24.5183146</td>
<td class="gt_row gt_right" headers="rbf_sigma">7.016539e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8775665</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008934404</td>
<td class="gt_row gt_left" headers=".config">Iter47</td>
<td class="gt_row gt_right" headers=".iter">47</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">10.2189037</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.330918e-02</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8733744</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.009258351</td>
<td class="gt_row gt_left" headers=".config">Iter48</td>
<td class="gt_row gt_right" headers=".iter">48</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">7.1021781</td>
<td class="gt_row gt_right" headers="rbf_sigma">1.966405e-03</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8966379</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008539778</td>
<td class="gt_row gt_left" headers=".config">Iter49</td>
<td class="gt_row gt_right" headers=".iter">49</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">9.2002334</td>
<td class="gt_row gt_right" headers="rbf_sigma">5.308068e-04</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8841932</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008839438</td>
<td class="gt_row gt_left" headers=".config">Iter50</td>
<td class="gt_row gt_right" headers=".iter">50</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</figure>
</div>
</div>
<div class="cell">
<details open="" class="code-fold"><summary>Kod</summary><div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://tune.tidymodels.org/reference/show_best.html">show_best</a></span><span class="op">(</span><span class="va">svm_sa</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">gt</span><span class="op">(</span><span class="op">)</span></span></code><button title="Kopiuj do schowka" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div id="tbl-sa2" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-sa2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tab.&nbsp;12.6: Najlepsze kombinacje parametrów na podstawie SA
</figcaption><div aria-describedby="tbl-sa2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<div id="yfywototxh" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#yfywototxh table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#yfywototxh thead, #yfywototxh tbody, #yfywototxh tfoot, #yfywototxh tr, #yfywototxh td, #yfywototxh th {
  border-style: none;
}

#yfywototxh p {
  margin: 0;
  padding: 0;
}

#yfywototxh .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#yfywototxh .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#yfywototxh .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#yfywototxh .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#yfywototxh .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yfywototxh .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yfywototxh .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yfywototxh .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#yfywototxh .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#yfywototxh .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#yfywototxh .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#yfywototxh .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#yfywototxh .gt_spanner_row {
  border-bottom-style: hidden;
}

#yfywototxh .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#yfywototxh .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#yfywototxh .gt_from_md > :first-child {
  margin-top: 0;
}

#yfywototxh .gt_from_md > :last-child {
  margin-bottom: 0;
}

#yfywototxh .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#yfywototxh .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#yfywototxh .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#yfywototxh .gt_row_group_first td {
  border-top-width: 2px;
}

#yfywototxh .gt_row_group_first th {
  border-top-width: 2px;
}

#yfywototxh .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yfywototxh .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#yfywototxh .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#yfywototxh .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yfywototxh .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yfywototxh .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#yfywototxh .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#yfywototxh .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#yfywototxh .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yfywototxh .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yfywototxh .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yfywototxh .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yfywototxh .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yfywototxh .gt_left {
  text-align: left;
}

#yfywototxh .gt_center {
  text-align: center;
}

#yfywototxh .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#yfywototxh .gt_font_normal {
  font-weight: normal;
}

#yfywototxh .gt_font_bold {
  font-weight: bold;
}

#yfywototxh .gt_font_italic {
  font-style: italic;
}

#yfywototxh .gt_super {
  font-size: 65%;
}

#yfywototxh .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#yfywototxh .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#yfywototxh .gt_indent_1 {
  text-indent: 5px;
}

#yfywototxh .gt_indent_2 {
  text-indent: 10px;
}

#yfywototxh .gt_indent_3 {
  text-indent: 15px;
}

#yfywototxh .gt_indent_4 {
  text-indent: 20px;
}

#yfywototxh .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="header gt_col_headings">
<th id="cost" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">cost</th>
<th id="rbf_sigma" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">rbf_sigma</th>
<th id=".metric" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">.metric</th>
<th id=".estimator" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">.estimator</th>
<th id="mean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">mean</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n</th>
<th id="std_err" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">std_err</th>
<th id=".config" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">.config</th>
<th id=".iter" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">.iter</th>
</tr></thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="cost">16.749920</td>
<td class="gt_row gt_right" headers="rbf_sigma">0.002398614</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8985179</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.007916078</td>
<td class="gt_row gt_left" headers=".config">Iter35</td>
<td class="gt_row gt_right" headers=".iter">35</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">10.629737</td>
<td class="gt_row gt_right" headers="rbf_sigma">0.004059190</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8975137</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008203966</td>
<td class="gt_row gt_left" headers=".config">Iter45</td>
<td class="gt_row gt_right" headers=".iter">45</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">21.940934</td>
<td class="gt_row gt_right" headers="rbf_sigma">0.001216970</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8973481</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008280488</td>
<td class="gt_row gt_left" headers=".config">Iter37</td>
<td class="gt_row gt_right" headers=".iter">37</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="cost">9.413835</td>
<td class="gt_row gt_right" headers="rbf_sigma">0.002056779</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8971685</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008342496</td>
<td class="gt_row gt_left" headers=".config">Iter34</td>
<td class="gt_row gt_right" headers=".iter">34</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="cost">3.110379</td>
<td class="gt_row gt_right" headers="rbf_sigma">0.004869128</td>
<td class="gt_row gt_left" headers=".metric">roc_auc</td>
<td class="gt_row gt_left" headers=".estimator">binary</td>
<td class="gt_row gt_right" headers="mean">0.8969694</td>
<td class="gt_row gt_right" headers="n">10</td>
<td class="gt_row gt_right" headers="std_err">0.008168916</td>
<td class="gt_row gt_left" headers=".config">Iter41</td>
<td class="gt_row gt_right" headers=".iter">41</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</figure>
</div>
</div>
<p>Podobnie jak w przypadku innych funkcji <code>tune_*()</code>, odpowiadająca im funkcja <code><a href="https://ggplot2.tidyverse.org/reference/autoplot.html">autoplot()</a></code> tworzy wizualną ocenę wyników. Użycie <code>autoplot(svm_sa, type = "performance")</code> pokazuje wydajność w czasie iteracji (<a href="#fig-sa3" class="quarto-xref">Rys.&nbsp;<span>12.10</span></a>), podczas gdy <code>autoplot(svm_sa, type = "parameters")</code> przedstawia wydajność w zależności od konkretnych wartości dostrajania parametrów (<a href="#fig-sa4" class="quarto-xref">Rys.&nbsp;<span>12.11</span></a>).</p>
<div class="cell">
<details open="" class="code-fold"><summary>Kod</summary><div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html">autoplot</a></span><span class="op">(</span><span class="va">svm_sa</span>, type <span class="op">=</span> <span class="st">"performance"</span><span class="op">)</span></span></code><button title="Kopiuj do schowka" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-sa3" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-sa3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="iterative_files/figure-html/fig-sa3-1.png" class="lightbox" data-glightbox="description: .lightbox-desc-14" data-gallery="quarto-lightbox-gallery-14"><img src="iterative_files/figure-html/fig-sa3-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sa3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Rys.&nbsp;12.10: Przebieg procesu symulowanego wyżarzania
</figcaption></figure>
</div>
</div>
</div>
<div class="cell">
<details open="" class="code-fold"><summary>Kod</summary><div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html">autoplot</a></span><span class="op">(</span><span class="va">svm_sa</span>, type <span class="op">=</span> <span class="st">"parameters"</span><span class="op">)</span></span></code><button title="Kopiuj do schowka" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-sa4" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-sa4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="iterative_files/figure-html/fig-sa4-1.png" class="lightbox" data-glightbox="description: .lightbox-desc-15" data-gallery="quarto-lightbox-gallery-15"><img src="iterative_files/figure-html/fig-sa4-1.png" class="img-fluid figure-img" width="672"></a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sa4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Rys.&nbsp;12.11: Wydajność modeli w kontekście hiperparametrów modelu
</figcaption></figure>
</div>
</div>
</div>
<p>Wizualizacja ścieżki wyszukiwania pomaga zrozumieć, gdzie proces wyszukiwania poradził sobie dobrze, a gdzie pobłądził:</p>
<div id="fig-sa5" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-sa5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<a href="https://www.tmwr.org/sa_search.mp4" class="lightbox" data-glightbox="description: .lightbox-desc-16" data-gallery="quarto-lightbox-gallery-16"><video src="https://www.tmwr.org/sa_search.mp4" class="img-fluid quarto-figure quarto-figure-center" controls=""></video></a><a href="https://www.tmwr.org/sa_search.mp4">Video</a>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-sa5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Rys.&nbsp;12.12: Wizualizacja przebiegu symulowanego wyżarzania
</figcaption></figure>
</div>


<div class="hidden" aria-hidden="true">
<span class="glightbox-desc lightbox-desc-1">Rys.&nbsp;12.1: Mapa ciepła średniego obszaru pod krzywą ROC dla siatki o dużej gęstości wartości dostrajania parametrów. Najlepszy punkt jest oznaczony kropką w prawym górnym rogu.</span>
<span class="glightbox-desc lightbox-desc-5">Rys.&nbsp;12.2: Hipotetyczny rzeczywisty profil wydajności dla arbitralnie wybranego parametru dostrajania, z pięcioma szacowanymi punktami</span>
<span class="glightbox-desc lightbox-desc-6">Rys.&nbsp;12.3: Przykładowy przebieg procesu gaussowskiego z zaznaczoną funkcją średniej i wariancji</span>
<span class="glightbox-desc lightbox-desc-7">Rys.&nbsp;12.4: Przewidywane rozkłady wydajności dla dwóch próbkowanych wartości parametrów dostrajania</span>
<span class="glightbox-desc lightbox-desc-8">Rys.&nbsp;12.5: Szacowany profil wydajności wygenerowany przez model procesu gaussowskiego (górny panel) oraz oczekiwana poprawa (dolny panel). Pionowa linia wskazuje punkt maksymalnej poprawy.</span>
<span class="glightbox-desc lightbox-desc-9">Rys.&nbsp;12.6: Jakość dopasowania modelu w poszczególnych iteracjach OB</span>
<span class="glightbox-desc lightbox-desc-10">Rys.&nbsp;12.7: Przykład działania optymalizacji bayesowskiej</span>
<span class="glightbox-desc lightbox-desc-11">Rys.&nbsp;12.8: Mapa ciepła prawdopodobieństwa akceptacji symulowanego wyżarzania dla różnych wartości współczynnika</span>
<span class="glightbox-desc lightbox-desc-13">Rys.&nbsp;12.9: Kilka iteracji procesu symulowanego wyżarzania</span>
<span class="glightbox-desc lightbox-desc-14">Rys.&nbsp;12.10: Przebieg procesu symulowanego wyżarzania</span>
<span class="glightbox-desc lightbox-desc-15">Rys.&nbsp;12.11: Wydajność modeli w kontekście hiperparametrów modelu</span>
<span class="glightbox-desc lightbox-desc-16">Rys.&nbsp;12.12: Wizualizacja przebiegu symulowanego wyżarzania</span>
</div>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-bohachevsky1986" class="csl-entry" role="listitem">
Bohachevsky, Ihor O., Mark E. Johnson, i Myron L. Stein. 1986. <span>„Generalized Simulated Annealing for Function Optimization”</span>. <em>Technometrics</em> 28 (3): 209–17. <a href="https://doi.org/10.1080/00401706.1986.10488128">https://doi.org/10.1080/00401706.1986.10488128</a>.
</div>
<div id="ref-Frazier2018" class="csl-entry" role="listitem">
Frazier, Peter I. 2018. <span>„A Tutorial on Bayesian Optimization”</span>. <a href="https://doi.org/10.48550/ARXIV.1807.02811">https://doi.org/10.48550/ARXIV.1807.02811</a>.
</div>
<div id="ref-kirkpatrickOptimizationSimulatedAnnealing1983" class="csl-entry" role="listitem">
Kirkpatrick, S., C. D. Gelatt, i M. P. Vecchi. 1983. <span>„Optimization by Simulated Annealing”</span>. <em>Science</em> 220 (4598): 671–80. <a href="https://doi.org/10.1126/science.220.4598.671">https://doi.org/10.1126/science.220.4598.671</a>.
</div>
<div id="ref-vanlaarhoven1987" class="csl-entry" role="listitem">
Laarhoven, Peter J. M. van, i Emile H. L. Aarts. 1987. <span>„Simulated annealing”</span>. W, 7–15. Springer Netherlands. <a href="https://doi.org/10.1007/978-94-015-7744-1_2">https://doi.org/10.1007/978-94-015-7744-1_2</a>.
</div>
<div id="ref-schulz2016" class="csl-entry" role="listitem">
Schulz, Eric, Maarten Speekenbrink, i Andreas Krause. 2016. <span>„A tutorial on Gaussian process regression: Modelling, exploring, and exploiting functions”</span>. <a href="http://dx.doi.org/10.1101/095190">http://dx.doi.org/10.1101/095190</a>.
</div>
<div id="ref-shahriari2016" class="csl-entry" role="listitem">
Shahriari, Bobak, Kevin Swersky, Ziyu Wang, Ryan P. Adams, i Nando de Freitas. 2016. <span>„Taking the Human Out of the Loop: A Review of Bayesian Optimization”</span>. <em>Proceedings of the IEEE</em> 104 (1): 148–75. <a href="https://doi.org/10.1109/jproc.2015.2494218">https://doi.org/10.1109/jproc.2015.2494218</a>.
</div>
</div>
</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Skopiowano!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Skopiowano!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./parallel.html" class="pagination-link" aria-label="Paralelizacja resamplingu">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Paralelizacja resamplingu</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./example.html" class="pagination-link" aria-label="Poszukiwanie optymalnego modelu">
        <span class="nav-page-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Poszukiwanie optymalnego modelu</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>Metody walidacji modeli statystycznych, Dariusz Majerek</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/dax44/ModelsValidation/issues/new" class="toc-action"><i class="bi bi-github"></i>Zgłoś problem</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>Książka została napisana w <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","loop":false,"descPosition":"bottom","openEffect":"zoom","selector":".lightbox"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>


</body></html>